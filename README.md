## :pushpin: marguerite
>쇼핑몰 웹 사이트   

</br>

### 1.제작기간&참여 인원
* 2023.02.13 ~ 2023.03.04   
* 팀프로젝트(3명)

</br>

### 2.사용기술
* JAVA11   
* ORACLE   
* JAVASCRIPT   
* AJAX   


</br>

### 3.ERD
<img src="./쇼핑몰ERD.png" width="500" height="500">

</br>

### 4.핵심기능
 * 상품 선택 및 결제 기능 : 사용자는 쇼핑몰에서 제공하는 상품 목록 중에서 원하는 상품을 선택할 수 있습니다.
 * 장바구니 관리 기능 : 사용자가 장바구니에 상품을 담으면, 선택한 상품들을 관리할 수 있습니다. 결제 시에 선택한
   선택한 상품들을 한 번에 처리할 수 있습니다.
 * 회원 정보 관리 기능 : 관리자로 로그인한 경우, 회원 정보를 확인할 수 있습니다.
 * 주문 정보 확인 : 관리자는 주문 정보를 확인할 수 있습니다. 주문 상태, 결제 내역, 배송 정보 등을 조회하여 주문 관리를 용이하게 할 수 있습니다.        
   
<details>
<summary>핵심기능설명펼치기</summary>   
   
#### 4-1. 전체흐름   

<img src="./프로그램구조.PNG" width="500" height="500">   
    
#### 4-2. 장바구니   
 * 장바구니에 상품 담기 📍[코드확인](https://github.com/Seoha95/marguerite/blob/8a785e7e7adf4bf9632a3b73bb1d144eee24c273/src/dao/DAO.java#L470-L507)   
    * 기존 상품의 수량 업데이트 : 이미 장바구니에 담겨있는 상품을 선택했을 경우, 해당 상품의 수량을 업데이트합니다. 사용자가 수량을 변경하거나 추가로 동일 상품을
      선택하면, 기존 장바구니에 있는 상품 수량을 새로운 값으로 갱신합니다.
    * 새로운 상품 추가 : 장바구니에 없는 상품을 선택했을 경우, 새로운 상품으로 인식하여 장바구니에 추가합니다.       
   
#### 4-3. 검색기능   
 * 상품 검색 기능 📍[코드확인](https://github.com/Seoha95/marguerite/blob/1fb810d8ee963d0f779f423048e90d01b9295b1b/src/dao/DAO.java#L205-L232)   
    * 검색어 일치 여부 확인 : 사용자가 검색어를 기준으로, 상품 이름에 포함된 문자열을 검색합니다. 검색어와 상품 이름을 비교하여 한 자라도 일치하는 경우
      해당 상품을 검색 결과에 포함시킵니다.
    * 검색 결과 표시 : 일치하는 검색어를 가지고 있는 상품들을 검색 결과로 표시합니다. 이는 사용자에게 검색된 상품의 목록을 보여주어 쉽게 확인할 수 있도록 합니다.          
   
#### 4-4. 베스트 상품보기   
 * 베스트 상품 띄우기 기능 📍[코드확인](https://github.com/Seoha95/marguerite/blob/8a785e7e7adf4bf9632a3b73bb1d144eee24c273/src/dao/DAO.java#L255-L277)
    * 데이터 정렬 : 상품 정보가 저장된 PRODUCT3 테이블에서 판매량과 가격을 내림차순으로 정렬합니다. 이를 통해 판매량이 높고 가격이 높은 상품이 상위에 위치하게 됩니다.   
    * 상위 10개 상품 검색 : 정렬된 결과에서 상위 10개의 상품을 선택하여 베스트 상품으로 추출합니다. 이는 판매량과 가격이 높은 상품들을 우선적으로 보여주어 고객의 관심을
      끌고, 인기 상품을 강조하는 역할을 합니다.    
 
#### 4-5 회원정보 조회 
 * 관리자모드 회원정보 조회 기능 📍[코드확인](https://github.com/Seoha95/marguerite/blob/8a785e7e7adf4bf9632a3b73bb1d144eee24c273/src/dao/DAO.java#L686-L715)   
     * 데이터 조인 : SIGNUP3테이블과 SHIPPING테이블을 회원의 id를 기준으로 조인합니다. 이를 통해 회원의 정보와 배송 정보를 연결하여 조회할 수 있습니다.
     * 회원 정보 확인 : 조인된 결과를 통해 회원의 아이디, 전화번호, 이름, 주소 등을 확인할 수 있습니다.     

</br>
</details>   
   
### 5.핵심 트러블 슈팅   
   
#### 5-1 상품을 결제를 할 때와 상품 삭제를 할 때 이동 페이지 다르게 주는 문제   
선택한 상품을 결제할 때는 아임포트 결제 API 페이지가 띄워지고 상품을 삭제를 할 때에도    
아임포트 결제 API 페이지를 들렸다가 삭제가 되는 문제가 있었으나 버튼 클릭시 이동페이지를    
다르게 설정해서 분리 시킬 수 있었습니다.   
   
<details>      
<summary>기존코드</summary>      
   
<img src="./기존코드.PNG" width="900" height="900">   
     
</details>       
          
<details>      
<summary>개선된 코드</summary>      
   
<img src="./이동경로설정2.PNG" width="600" height="600">   
   
<img src="./이동경로설정.PNG" width="900" height="900">    
</details>   
   
   
### 6. 느낀점    
   
쇼핑몰 프로젝트를 초반에 만들었을 때는 검색기능을 구현하기 위해서 품목별로 dao코드를 여러개 짠 후에
중복되는 코드가 많다는 것을  어떻게 하면 줄일 수 있을지 고민하고 공부한 결과 1개의 dao로 줄여서 코드 리펙토링을 했습니다.
이러한 경험을 통해 항상 프로젝트를 만든 후에 어떻게 하면 더 클린한 코드를 짤 수 있을지에 대해 더 생각하게 되었습니다. 







